{"ast":null,"code":"var _jsxFileName = \"C:\\\\mars_power_drive\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useLocation } from 'react-router-dom';\nimport Login from './components/Login';\nimport CoachDashboard from './components/CoachDashboard';\nimport PlayerDashboard from './components/PlayerDashboard';\nimport ShootingPage from './components/ShootingPage';\nimport FitnessPage from './components/FitnessPage';\nimport NutritionPage from './components/NutritionPage';\n\n// ייבוא שומר המסך\nimport Screensaver from './components/Screensaver';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AppContent = () => {\n  _s();\n  const location = useLocation();\n  const [isScreensaverActive, setIsScreensaverActive] = useState(false);\n\n  // בדיקה האם אנחנו במסך לוגין\n  const isLoginPage = location.pathname === '/' || location.pathname === '/login';\n\n  // פונקציה להפעלת שומר המסך\n  const activateScreensaver = useCallback(() => {\n    if (!isLoginPage) {\n      setIsScreensaverActive(true);\n    }\n  }, [isLoginPage]);\n\n  // פונקציה לאיפוס הטיימר (קורית רק כשיש תזוזה)\n  const resetTimer = useCallback(() => {\n    // 1. ברגע שיש תזוזה - מסתירים את שומר המסך\n    setIsScreensaverActive(false);\n\n    // 2. מנקים את הטיימר הישן\n    if (window.screensaverTimeout) {\n      clearTimeout(window.screensaverTimeout);\n    }\n\n    // 3. מתחילים ספירה חדשה של דקה (רק אם לא בלוגין)\n    if (!isLoginPage) {\n      window.screensaverTimeout = setTimeout(activateScreensaver, 60000);\n    }\n  }, [activateScreensaver, isLoginPage]);\n  useEffect(() => {\n    // אירועים שמבטלים את שומר המסך\n    const events = ['mousemove', 'keydown', 'click', 'scroll', 'touchstart'];\n    events.forEach(event => {\n      window.addEventListener(event, resetTimer);\n    });\n\n    // --- התיקון נמצא כאן ---\n    if (!isLoginPage) {\n      // אם עברנו לוגין בהצלחה - נדליק את המסך מיד!\n      setIsScreensaverActive(true);\n\n      // הערה חשובה: מחקנו מכאן את resetTimer()\n      // כעת המערכת מחכה שתזיז את העכבר כדי להתחיל את הספירה לאחור\n    } else {\n      // אם חזרנו ללוגין - מכבים הכל\n      setIsScreensaverActive(false);\n      if (window.screensaverTimeout) clearTimeout(window.screensaverTimeout);\n    }\n\n    // ניקוי ביציאה\n    return () => {\n      events.forEach(event => {\n        window.removeEventListener(event, resetTimer);\n      });\n      if (window.screensaverTimeout) clearTimeout(window.screensaverTimeout);\n    };\n  }, [resetTimer, isLoginPage]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Screensaver, {\n      isActive: isScreensaverActive\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dashboard\",\n        element: /*#__PURE__*/_jsxDEV(CoachDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/player-zone\",\n        element: /*#__PURE__*/_jsxDEV(PlayerDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/shooting\",\n        element: /*#__PURE__*/_jsxDEV(ShootingPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/fitness\",\n        element: /*#__PURE__*/_jsxDEV(FitnessPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/nutrition\",\n        element: /*#__PURE__*/_jsxDEV(NutritionPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AppContent, \"j8gkwncTDifdO7jcOUA5SJLhudY=\", false, function () {\n  return [useLocation];\n});\n_c = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","BrowserRouter","Router","Routes","Route","useLocation","Login","CoachDashboard","PlayerDashboard","ShootingPage","FitnessPage","NutritionPage","Screensaver","jsxDEV","_jsxDEV","Fragment","_Fragment","AppContent","_s","location","isScreensaverActive","setIsScreensaverActive","isLoginPage","pathname","activateScreensaver","resetTimer","window","screensaverTimeout","clearTimeout","setTimeout","events","forEach","event","addEventListener","removeEventListener","children","isActive","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","App","_c2","$RefreshReg$"],"sources":["C:/mars_power_drive/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, useLocation } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport CoachDashboard from './components/CoachDashboard';\r\nimport PlayerDashboard from './components/PlayerDashboard';\r\nimport ShootingPage from './components/ShootingPage';\r\nimport FitnessPage from './components/FitnessPage';\r\nimport NutritionPage from './components/NutritionPage';\r\n\r\n// ייבוא שומר המסך\r\nimport Screensaver from './components/Screensaver';\r\n\r\nconst AppContent = () => {\r\n  const location = useLocation();\r\n  const [isScreensaverActive, setIsScreensaverActive] = useState(false);\r\n  \r\n  // בדיקה האם אנחנו במסך לוגין\r\n  const isLoginPage = location.pathname === '/' || location.pathname === '/login';\r\n\r\n  // פונקציה להפעלת שומר המסך\r\n  const activateScreensaver = useCallback(() => {\r\n    if (!isLoginPage) {\r\n      setIsScreensaverActive(true);\r\n    }\r\n  }, [isLoginPage]);\r\n\r\n  // פונקציה לאיפוס הטיימר (קורית רק כשיש תזוזה)\r\n  const resetTimer = useCallback(() => {\r\n    // 1. ברגע שיש תזוזה - מסתירים את שומר המסך\r\n    setIsScreensaverActive(false);\r\n    \r\n    // 2. מנקים את הטיימר הישן\r\n    if (window.screensaverTimeout) {\r\n      clearTimeout(window.screensaverTimeout);\r\n    }\r\n\r\n    // 3. מתחילים ספירה חדשה של דקה (רק אם לא בלוגין)\r\n    if (!isLoginPage) {\r\n      window.screensaverTimeout = setTimeout(activateScreensaver, 60000); \r\n    }\r\n  }, [activateScreensaver, isLoginPage]);\r\n\r\n  useEffect(() => {\r\n    // אירועים שמבטלים את שומר המסך\r\n    const events = ['mousemove', 'keydown', 'click', 'scroll', 'touchstart'];\r\n    \r\n    events.forEach(event => {\r\n      window.addEventListener(event, resetTimer);\r\n    });\r\n\r\n    // --- התיקון נמצא כאן ---\r\n    if (!isLoginPage) {\r\n        // אם עברנו לוגין בהצלחה - נדליק את המסך מיד!\r\n        setIsScreensaverActive(true);\r\n        \r\n        // הערה חשובה: מחקנו מכאן את resetTimer()\r\n        // כעת המערכת מחכה שתזיז את העכבר כדי להתחיל את הספירה לאחור\r\n    } else {\r\n        // אם חזרנו ללוגין - מכבים הכל\r\n        setIsScreensaverActive(false);\r\n        if (window.screensaverTimeout) clearTimeout(window.screensaverTimeout);\r\n    }\r\n\r\n    // ניקוי ביציאה\r\n    return () => {\r\n      events.forEach(event => {\r\n        window.removeEventListener(event, resetTimer);\r\n      });\r\n      if (window.screensaverTimeout) clearTimeout(window.screensaverTimeout);\r\n    };\r\n  }, [resetTimer, isLoginPage]);\r\n\r\n  return (\r\n    <>\r\n      <Screensaver isActive={isScreensaverActive} />\r\n\r\n      <Routes>\r\n        <Route path=\"/\" element={<Login />} />\r\n        <Route path=\"/login\" element={<Login />} />\r\n        \r\n        <Route path=\"/dashboard\" element={<CoachDashboard />} />\r\n        <Route path=\"/player-zone\" element={<PlayerDashboard />} />\r\n\r\n        <Route path=\"/shooting\" element={<ShootingPage />} />\r\n        <Route path=\"/fitness\" element={<FitnessPage />} />\r\n        <Route path=\"/nutrition\" element={<NutritionPage />} />\r\n      </Routes>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <AppContent />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,WAAW,QAAQ,kBAAkB;AACtF,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,aAAa,MAAM,4BAA4B;;AAEtD;AACA,OAAOC,WAAW,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACe,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;;EAErE;EACA,MAAMwB,WAAW,GAAGH,QAAQ,CAACI,QAAQ,KAAK,GAAG,IAAIJ,QAAQ,CAACI,QAAQ,KAAK,QAAQ;;EAE/E;EACA,MAAMC,mBAAmB,GAAGxB,WAAW,CAAC,MAAM;IAC5C,IAAI,CAACsB,WAAW,EAAE;MAChBD,sBAAsB,CAAC,IAAI,CAAC;IAC9B;EACF,CAAC,EAAE,CAACC,WAAW,CAAC,CAAC;;EAEjB;EACA,MAAMG,UAAU,GAAGzB,WAAW,CAAC,MAAM;IACnC;IACAqB,sBAAsB,CAAC,KAAK,CAAC;;IAE7B;IACA,IAAIK,MAAM,CAACC,kBAAkB,EAAE;MAC7BC,YAAY,CAACF,MAAM,CAACC,kBAAkB,CAAC;IACzC;;IAEA;IACA,IAAI,CAACL,WAAW,EAAE;MAChBI,MAAM,CAACC,kBAAkB,GAAGE,UAAU,CAACL,mBAAmB,EAAE,KAAK,CAAC;IACpE;EACF,CAAC,EAAE,CAACA,mBAAmB,EAAEF,WAAW,CAAC,CAAC;EAEtCvB,SAAS,CAAC,MAAM;IACd;IACA,MAAM+B,MAAM,GAAG,CAAC,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,CAAC;IAExEA,MAAM,CAACC,OAAO,CAACC,KAAK,IAAI;MACtBN,MAAM,CAACO,gBAAgB,CAACD,KAAK,EAAEP,UAAU,CAAC;IAC5C,CAAC,CAAC;;IAEF;IACA,IAAI,CAACH,WAAW,EAAE;MACd;MACAD,sBAAsB,CAAC,IAAI,CAAC;;MAE5B;MACA;IACJ,CAAC,MAAM;MACH;MACAA,sBAAsB,CAAC,KAAK,CAAC;MAC7B,IAAIK,MAAM,CAACC,kBAAkB,EAAEC,YAAY,CAACF,MAAM,CAACC,kBAAkB,CAAC;IAC1E;;IAEA;IACA,OAAO,MAAM;MACXG,MAAM,CAACC,OAAO,CAACC,KAAK,IAAI;QACtBN,MAAM,CAACQ,mBAAmB,CAACF,KAAK,EAAEP,UAAU,CAAC;MAC/C,CAAC,CAAC;MACF,IAAIC,MAAM,CAACC,kBAAkB,EAAEC,YAAY,CAACF,MAAM,CAACC,kBAAkB,CAAC;IACxE,CAAC;EACH,CAAC,EAAE,CAACF,UAAU,EAAEH,WAAW,CAAC,CAAC;EAE7B,oBACER,OAAA,CAAAE,SAAA;IAAAmB,QAAA,gBACErB,OAAA,CAACF,WAAW;MAACwB,QAAQ,EAAEhB;IAAoB;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE9C1B,OAAA,CAACX,MAAM;MAAAgC,QAAA,gBACLrB,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,GAAG;QAACC,OAAO,eAAE5B,OAAA,CAACR,KAAK;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACtC1B,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,QAAQ;QAACC,OAAO,eAAE5B,OAAA,CAACR,KAAK;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAE3C1B,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,YAAY;QAACC,OAAO,eAAE5B,OAAA,CAACP,cAAc;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACxD1B,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,cAAc;QAACC,OAAO,eAAE5B,OAAA,CAACN,eAAe;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAE3D1B,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,WAAW;QAACC,OAAO,eAAE5B,OAAA,CAACL,YAAY;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrD1B,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,UAAU;QAACC,OAAO,eAAE5B,OAAA,CAACJ,WAAW;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnD1B,OAAA,CAACV,KAAK;QAACqC,IAAI,EAAC,YAAY;QAACC,OAAO,eAAE5B,OAAA,CAACH,aAAa;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC;EAAA,eACT,CAAC;AAEP,CAAC;AAACtB,EAAA,CA7EID,UAAU;EAAA,QACGZ,WAAW;AAAA;AAAAsC,EAAA,GADxB1B,UAAU;AA+EhB,SAAS2B,GAAGA,CAAA,EAAG;EACb,oBACE9B,OAAA,CAACZ,MAAM;IAAAiC,QAAA,eACLrB,OAAA,CAACG,UAAU;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEb;AAACK,GAAA,GANQD,GAAG;AAQZ,eAAeA,GAAG;AAAC,IAAAD,EAAA,EAAAE,GAAA;AAAAC,YAAA,CAAAH,EAAA;AAAAG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}